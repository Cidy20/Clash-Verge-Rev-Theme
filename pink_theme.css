/* Win 注入本地字体 */
@font-face {
  font-family: 'QuanLaiTi';
  src: url('file:///F:/Ludy/OneDrive%20-%20MSFT/98%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6/%E5%AD%97%E4%BD%93/%E5%85%A8%E6%BF%91%E4%BD%93-Regular.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
/* MacOS 注入本地字体(提前安装字体册) */
@font-face {
  font-family: 'QuanLaiTi';
  /* 依次为：字体册名称、标识符-唯一名称-前部分、详细信息-位置-名称部分（不含.ttf） */
  src: local('全濑体'), local('全濑体 Regular'), local('全濑体-Regular');
}

/* 字体变量(上面二选一) */
* {
  font-family: 'QuanLaiTi', sans-serif !important;
  color: var(--color-dark-primary) !important;
}
/* ===== 变量 (颜色变量) =====*/
:root {
    /* --- 深色系 --- */
    --color-dark-primary: #880e4f !important;     /* 深粉色 - 主要文字颜色 */
    --color-dark-secondary: #e02388 !important;   /* 中等深粉色 - 滚动条滑块 */
    /* --- 主色系 --- */
    --color-primary: #ec407a !important;         /* 主粉色 - 按钮、边框、激活状态 */
    --color-primary-light: #f48fb1 !important;    /* 浅主粉色 - 边框、悬停效果 */
    /* --- 浅色系 --- */
    --color-light-primary: #f8bbd9 !important;    /* 浅粉色 - 选中状态背景 */
    --color-light-secondary: #fce4ec !important;  /* 更浅粉色 - 输入框、卡片背景 */
    --color-light-tertiary: #fdf0ed !important;   /* 最浅粉色 - 整体背景 */
    --color-light-quaternary: #FFE4E8 !important; /* 极浅粉色 - 对话框、列表背景 */
    /* --- 透明效果 --- */
    --color-primary-alpha-70: rgba(233, 30, 99, 0.7) !important;   /* 70%透明度主色 */
    --color-primary-alpha-30: rgba(236, 64, 122, 0.3) !important;   /* 30%透明度主色 */
    --color-primary-alpha-20: rgba(233, 30, 99, 0.2) !important;   /* 20%透明度主色 */
    --color-primary-alpha-10: rgba(236, 64, 122, 0.1) !important;   /* 10%透明度主色 */
    --color-primary-alpha-4: rgba(236, 64, 122, 0.04) !important;   /* 4%透明度主色 */
    --color-light-alpha-30: rgba(248, 187, 217, 0.3) !important;   /* 30%透明度浅色 */
    /* --- 特殊颜色 --- */
    --color-transparent: transparent !important;
    /* --- 基础样式变量映射 --- */
    --background-color: var(--color-light-tertiary) !important;
    --window-border-color: var(--color-primary-light) !important;
    --border: var(--color-primary-light) !important;
    --scroller-color: var(--color-primary-alpha-70) !important;
    --scrollbar-bg: var(--color-light-secondary) !important;
    --scrollbar-thumb: var(--color-dark-secondary) !important;
    --background-color-alpha: var(--color-primary-alpha-20) !important;
}

/* ===== 组件样式 ===== */
/* 输入框 */
input, textarea {
    color: var(--color-dark-primary) !important;
    background-color: var(--color-light-secondary) !important;
    border-color: var(--color-primary-light) !important;
}
/* Select/Input 背景和边框 */
.MuiOutlinedInput-root {
    background-color: var(--color-light-secondary) !important;
}
.MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline {
    border-color: var(--color-dark-primary) !important;
}
.MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline {
    border-color: var(--color-primary) !important;
    border-width: 2px !important;
}
/* 按钮 */
.MuiButton-contained.MuiButton-containedPrimary,
.MuiButton-containedSuccess {
    background-color: var(--color-primary) !important;
    border-color: var(--color-primary) !important;
    color: var(--color-light-tertiary) !important;
}
/* 轮廓按钮 */
.MuiButton-outlined.MuiButton-outlinedPrimary {
    border: 1px solid var(--color-primary-light) !important;
    color: var(--color-primary) !important;
}
.MuiButton-outlinedPrimary:hover {
    border-color: var(--color-primary) !important;
    background-color: var(--color-primary-alpha-10) !important;
}
/* 按钮组边框 */
.MuiButtonGroup-groupedOutlined {
    border-color: var(--color-primary-light) !important;
}
/* 切换开关 (Switch) */
.MuiSwitch-track {
    background-color: var(--color-dark-primary) !important;
}
.MuiSwitch-root .Mui-checked + .MuiSwitch-track {
    background-color: var(--color-primary) !important;
}
.MuiSwitch-thumb {
    color: var(--color-light-tertiary) !important;
}
/* 订阅复制按钮 (特殊修复) */
.css-byahjg {
    background: var(--color-light-secondary) !important;
    border: 2.5px solid var(--color-light-secondary) !important;
    border-radius: 0px !important;
}
/* 对话框与面板 */
.MuiPaper-root.MuiDialog-paper {
    background-color: var(--color-light-quaternary) !important;
}
.MuiAlert-root {
    background-color: var(--color-dark-primary) !important;
}
.MuiAlert-message {
    color: var(--color-light-secondary) !important;
}
.layout-content {
    background-color: var(--color-light-secondary);
}
/* 列表与菜单 */
ul.MuiList-root.MuiList-padding.css-1wduhak,
ul[id^="_r_"] { /* 下拉菜单 */
    background: var(--color-light-tertiary) !important; 
    background-color: var(--color-light-quaternary); /* Fallback/Variable mix */
}
/* 编辑器 */
.react-monaco-editor-container,
.monaco-editor,
.monaco-editor .monaco-editor-background,
.monaco-editor .lines-content,
.monaco-editor .margin-view-overlays {
    background-color: var(--color-light-tertiary) !important;
}
/* 表格 */
.MuiTableContainer-root,
.MuiTable-root,
.MuiTableBody-root,
.MuiTableRow-root,
.MuiTableCell-body,
.MuiTablePagination-root,
.MuiToolbar-root {
    background-color: var(--color-light-tertiary) !important;
}

/* ===== 功能模块 =====*/
/* Home / Dashboard (首页) */
/* 标题 SVG */
svg#layout1 {
    fill: var(--color-dark-primary) !important;
}
/* 图标 */
.css-q7mezt path {
    fill: var(--color-dark-primary);
}
/* 卡片容器 */
.MuiGrid-grid-xs-4 .MuiPaper-root,
.css-15emwx2,
.the-traffic .css-79elbk {
    background-color: var(--color-light-secondary) !important;
    border: 1px solid var(--color-primary) !important;
    border-radius: 8px !important;
}
/* 透明容器 (Groups) */
.MuiBox-root.css-23cvz, .MuiBox-root.css-rbmxes, .MuiBox-root.css-14zl6yh, 
.MuiBox-root.css-1frdjpe, .MuiBox-root.css-1ofqig9 {
    background-color: var(--color-light-quaternary) !important;
}
/* 节点第一行背景 */
.css-6yc7vd {
    background-color: var(--color-primary-alpha-4) !important;
}
/* 透明背景修补 */
.css-1f9dk5k, .css-1kl0a0c, .css-y9p1lb, .css-ehj8cx, .css-32g6gd, .css-9j8v3 {
    background-color: var(--color-transparent) !important;
}
/* --- Proxies (代理) --- */
/* 列表项选中/未选中 */
.MuiListItemButton-root.Mui-selected {
    background-color: var(--color-light-primary) !important;
    border: 1px solid var(--color-primary) !important;
    border-left: 4px solid var(--color-primary) !important;
}
.MuiListItemButton-root:not(.Mui-selected) {
    background-color: var(--color-light-secondary) !important;
    border-left: 4px solid var(--color-transparent) !important;
}
/* 模式描述文字 */
.css-1g7xoiq + .MuiBox-root .MuiTypography-caption,
.css-1k84c6z + .MuiBox-root .MuiTypography-caption {
    background: var(--color-light-tertiary) !important;
    border: 1px solid var(--color-primary) !important;
}
/* --- Subscriptions (订阅) --- */
/* 选中卡片 */
.css-1rgmi2n {
    border-left: 4px solid var(--color-primary) !important;
    background-color: var(--color-light-primary) !important;
}
/* 未选中卡片 */
.css-1ow8u3y {
    border-left: 4px solid var(--color-transparent) !important;
    background-color: var(--color-light-secondary) !important;
}
/* 进度条 */
.MuiLinearProgress-root {
    background-color: var(--color-light-alpha-30) !important;
    height: 6px !important;
    border-radius: 3px !important;
    margin-top: 8px !important;
}
.MuiLinearProgress-bar {
    background: linear-gradient(90deg, var(--color-primary), var(--color-light-primary)) !important;
    border-radius: 3px !important;
}
/* --- Logs & Connections (日志与连接) --- */
/* 表头背景 (包含失效修复和内层容器) */
.css-10lyan7,
.css-g05pvh {
    background: var(--color-light-primary) !important;
}
/* 表格行背景 */
.MuiDataGrid-row {
    background: var(--color-light-tertiary) !important;
}
/* 顶部输入框容器 */
.css-k008qs {
    background: var(--color-light-secondary) !important;
    border-top: 2.5px solid var(--color-light-secondary) !important;
}
/* 悬浮提示 */
.MuiTooltip-tooltip {
    background: var(--color-primary) !important;
    color: var(--color-light-primary) !important;
    border: 1px solid var(--color-primary) !important;
}
/* ===== 标签 ===== */
/* Success Chip */
.MuiChip-colorSuccess,
.MuiChip-filledSuccess {
    background-color: var(--color-primary) !important;
    border-color: var(--color-primary) !important;
}
.MuiChip-colorSuccess .MuiSvgIcon-root path,
.MuiChip-filledSuccess .MuiSvgIcon-root path,
.MuiChip-iconColorSuccess .MuiSvgIcon-root path {
    fill: var(--color-light-tertiary) !important;
}
/* Default Chip Label */
.MuiChip-label {
    color: var(--color-light-tertiary) !important;
}
.MuiChip-colorDefault .MuiChip-label,
.MuiChip-filledDefault .MuiChip-label {
    color: var(--color-dark-primary) !important;
}
/* Primary Outlined Chip (订阅合并/脚本标签) */
.MuiChip-outlinedPrimary {
    background: var(--color-primary) !important;
    border: 1px solid var(--color-light-primary) !important;
    color: var(--color-light-primary) !important;
}
/* 统一标签边框样式 (Info 标签, Selector 标签, Vless 标签) */
.MuiChip-outlinedInfo,
.css-q190hg,    /* Selector Label */
.css-11z78x8 {  /* Vless Tag */
    border: 1px solid var(--color-primary) !important;
    background-color: var(--color-light-secondary) !important;
    color: var(--color-primary) !important;
}
.MuiChip-outlinedInfo .MuiChip-label {
    color: var(--color-primary) !important;
}
/* ===== 按钮组样式 - 按钮组 (Stack Papers) =====*/
/* 按钮组未选中 */
.MuiPaper-elevation0 {
    background-color: var(--color-light-primary) !important;
    border-color: var(--color-primary) !important;
}
.MuiPaper-elevation0:hover {
    background-color: var(--color-primary-alpha-30) !important;
}
/* 按钮组选中 */
.MuiPaper-elevation2 {
    background-color: var(--color-primary) !important;
    border-color: var(--color-primary) !important;
}
.MuiPaper-elevation2 .MuiTypography-body2,
.MuiPaper-elevation2 .MuiSvgIcon-root {
    color: var(--color-light-secondary) !important;
}
.MuiPaper-elevation2 .MuiSvgIcon-root path {
    fill: var(--color-light-secondary) !important;
}
/* 按钮间分割线 */
.MuiStack-root .MuiPaper-root:not(:last-child)::after {
    background-color: var(--color-primary) !important;
}
/* =====  Hacks & Overrides =====*/
/* 强制 Canvas 图表变色 (HACK) - 无蓝深色版 */
/* 原理：使用 Sepia 统一色调（去除蓝色），旋转至紫红区，降低亮度增加对比度，变为 深紫/深红 */
canvas {
    filter: sepia(100%) hue-rotate(270deg) saturate(400%) contrast(150%) brightness(85%) !important;
}
